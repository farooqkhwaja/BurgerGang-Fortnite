<!-- Include head -->
<%- include('./partials/head') %>
<!-- Include nav -->
<%- include('./partials/nav') %>

<main class="main-locker">
  <!-- Favoriete lijst  -->

  <% if (favorites && favorites.length > 0) { %>
  <section class="locker-section">
    <header class="section-title">Favorieten</header>
    <ul class="items-grid">
      <% favorites.forEach((item) => { %> <% if (item) { %>
      <li class="locker-item">
        <figure>
          <img
            src="<%= item.images?.smallIcon || item.images?.icon || '/images/default.png' %>"
            alt="<%= item.name %>"
            class="item-image"
          />
          <figcaption class="item-actions">
            <form action="/remove-favorite" method="POST" class="icon-form">
              <input type="hidden" name="itemId" value="<%= item.id %>" />
              <button type="submit" class="icon-button">
                <img
                  src="/images/cross.png"
                  alt="Remove favorite"
                  class="item-action cross"
                />
              </button>
            </form>
          </figcaption>
        </figure>
      </li>
      <% } %> <% }) %>
    </ul>
  </section>
  <% } %>

  <!-- Outfits -->

  <section class="locker-section">
    <header class="section-title">Outfits</header>
    <ul class="items-grid">
      <% skins.forEach((item) => { %>
      <li class="locker-item">
        <figure>
          <img
            src="<%= item.images.smallIcon %>"
            alt="Costume"
            class="item-image"
          />
          <figcaption class="item-actions">
            <form action="/lockerdetails" method="POST" class="icon-form">
              <input
                type="hidden"
                name="favorite"
                value="<%= JSON.stringify(item) %>"
              />
              <button type="submit" class="icon-button">
                <img
                  src="/images/star.webp"
                  alt="Favorite"
                  class="item-action star-icon"
                />
              </button>
            </form>
            <form action="/lockerdetails" method="POST" class="icon-form">
              <input
                type="hidden"
                name="blacklisted"
                value="<%= JSON.stringify(item) %>"
              />
              <button type="submit" class="icon-button">
                <img
                  src="/images/blacklist_new.png"
                  alt="Blacklist"
                  class="item-action blacklist-icon"
                />
              </button>
            </form>
          </figcaption>
        </figure>
      </li>
      <% }) %>
    </ul>
  </section>

  <!-- Wapens -->

  <section class="locker-section">
    <header class="section-title">Wapens</header>
    <ul class="items-grid">
      <% weapons.forEach((item) => { %>
      <li class="locker-item">
        <figure>
          <img
            src="<%= item.images.smallIcon %>"
            alt="Costume"
            class="item-image"
          />
          <figcaption class="item-actions">
            <form action="/lockerdetails" method="POST" class="icon-form">
              <input
                type="hidden"
                name="favorite"
                value="<%= JSON.stringify(item) %>"
              />
              <button type="submit" class="icon-button">
                <img
                  src="/images/star.webp"
                  alt="Favorite"
                  class="item-action star-icon"
                />
              </button>
            </form>
          </figcaption>
        </figure>
      </li>
      <% }) %>
    </ul>
  </section>

  <!-- Dansjes -->

  <section class="locker-section">
    <header class="section-title">Dansjes</header>
    <ul class="items-grid">
      <% emotes.forEach((item) => { %>
      <li class="locker-item">
        <figure>
          <img
            src="<%= item.images.smallIcon %>"
            alt="Costume"
            class="item-image"
          />
          <figcaption class="item-actions">
            <form action="/lockerdetails" method="POST" class="icon-form">
              <input
                type="hidden"
                name="favorite"
                value="<%= JSON.stringify(item) %>"
              />
              <button type="submit" class="icon-button">
                <img
                  src="/images/star.webp"
                  alt="Favorite"
                  class="item-action star-icon"
                />
              </button>
            </form>
          </figcaption>
        </figure>
      </li>
      <% }) %>
    </ul>
  </section>

  <!-- Zwarte Lijst -->

  <% if (blacklisted && blacklisted.length > 0) { %>
  <section class="locker-section">
    <header class="section-title">Zwarte Lijst</header>
    <ul class="items-grid">
      <% blacklisted.forEach((item) => { %> <% if (item) { %>
      <li class="locker-item">
        <figure>
          <img
            src="<%= item.images?.smallIcon || item.images?.icon || '/images/default.png' %>"
            alt="<%= item.name %>"
            class="item-image"
          />
          <figcaption class="item-actions">
            <form action="/remove-blacklisted" method="POST" class="icon-form">
              <input type="hidden" name="itemId" value="<%= item.id %>" />
              <button type="submit" class="icon-button">
                <img
                  src="/images/cross.png"
                  alt="Remove from blacklist"
                  class="item-action cross"
                />
              </button>
            </form>
          </figcaption>
        </figure>
      </li>
      <% } %> <% }) %>
    </ul>
  </section>
  <% } %>
</main>

<!-- Include window -->
<%- include('./partials/window') %>
<!-- Include foot -->
<%- include('./partials/foot') %>
